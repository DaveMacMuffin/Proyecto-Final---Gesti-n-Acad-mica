<div class="flex flex-col min-h-screen">
    <app-navbar></app-navbar>
    <div class="flex flex-1">
        <app-sidebar></app-sidebar>
        <main class="flex-1 p-6 bg-background">
            <div class="max-w-7xl mx-auto" style="display: flex; flex-direction: column; gap: 1.5rem;">
                
                <!-- Header -->
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-foreground mb-2">Dashboard Acad√©mico</h1>
                        <p class="text-muted-foreground">
                            An√°lisis y reportes de desempe√±o acad√©mico
                        </p>
                    </div>
                    <div class="flex gap-2">
                        <button (click)="exportarCSV()" class="border border-border py-2 px-4 rounded flex items-center gap-2">
                            <span>üì•</span>
                            Exportar CSV
                        </button>
                        <button (click)="exportarPDF()" class="border border-border py-2 px-4 rounded flex items-center gap-2">
                            <span>üìÑ</span>
                            Exportar PDF
                        </button>
                    </div>
                </div>


                <!-- Rendimiento por Materia -->
                <div class="bg-card rounded-lg shadow-sm">
                    <div class="p-6 border-b border-border">
                        <h3 class="text-lg font-semibold flex items-center gap-2">
                            <span>üìà</span>
                            Rendimiento por Materia
                        </h3>
                    </div>
                    <div class="p-6">
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div *ngFor="let reporte of reportesPorMateria" class="p-4 bg-muted rounded-lg">
                                <div class="flex items-center justify-between mb-3">
                                    <h3 class="font-semibold text-lg">{{reporte.materia}}</h3>
                                    <div class="text-right">
                                    <span class="text-xs text-muted-foreground uppercase tracking-wide">Promedio de la materia</span>
                                    <div class="text-2xl font-bold" style="color: hsl(var(--primary));">
                                        {{reporte.promedio}}
                                    </div>
                                </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;" class="text-sm">
                                    <div class="flex items-center justify-between p-2 rounded" style="background-color: hsl(var(--success), 0.1);">
                                        <span class="text-muted-foreground">Aprobados</span>
                                        <span class="font-bold" style="color: hsl(var(--success));">{{reporte.aprobados}}%</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 rounded" style="background-color: hsl(var(--destructive), 0.1);">
                                        <span class="text-muted-foreground">Reprobados</span>
                                        <span class="font-bold" style="color: hsl(var(--destructive));">{{reporte.reprobados}}%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grid inferior -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Investigadores SNI -->
                    <div class="bg-card rounded-lg shadow-sm h-full flex flex-col">
    <div class="p-6 border-b border-border">
        <h3 class="text-lg font-semibold flex items-center gap-2">
            <span>üèÜ</span>
            Investigadores SNI
        </h3>
    </div>
    
    <div class="p-6 flex-1 min-h-0">
        <div style="display: flex; flex-direction: column; gap: 0.75rem; height: 100%; overflow-y: auto; padding-right: 10px;">
            
            <div *ngFor="let docente of docentesSNI" class="flex items-center justify-between p-3 bg-muted rounded-lg">
                <div style="flex: 1;">
                    <p class="font-medium">{{docente.nombre}}</p>
                    <p class="text-sm text-muted-foreground">{{docente.nivel}}</p>
                </div>
                <div class="text-right">
                    <p class="text-sm font-bold">{{docente.publicaciones}}</p>
                    <p class="text-xs text-muted-foreground">Publicaciones</p>
                </div>
            </div>

        </div>
    </div>
</div>
                    <!-- Evaluaci√≥n Docente -->
                    <div class="bg-card rounded-lg shadow-sm">
    <div class="p-6 border-b border-border">
        <h3 class="text-lg font-semibold flex items-center gap-2">
            <span>‚≠ê</span>
            Ranking de Evaluaci√≥n Docente
        </h3>
    </div>
    <div class="p-6">
        <div style="display: flex; flex-direction: column; gap: 1rem;">
            
            <div *ngFor="let item of evaluacionDocente; let i = index" class="flex flex-col gap-1">
                <div class="flex items-center justify-between text-sm">
                    <div class="flex items-center gap-2">
                        <span class="font-bold text-muted-foreground w-4 text-center">{{i + 1}}.</span>
                        <span class="font-medium">{{item.nombre}}</span>
                    </div>
                    <span class="font-bold">{{item.calificacion}}%</span>
                </div>
                
                <div class="w-full h-2 bg-muted rounded-full overflow-hidden">
                    <div 
                        class="h-full rounded-full transition-all duration-500"
                        [style.width.%]="item.calificacion"
                        [style.background-color]="item.calificacion >= 90 ? 'hsl(var(--success))' : (item.calificacion >= 70 ? 'hsl(var(--primary))' : 'hsl(var(--destructive))')"
                    ></div>
                </div>
            </div>

        </div>
    </div>
</div>
                </div>
            </div>
        </main>
    </div>
    <app-footer></app-footer>
</div>