<!-- ==================================================== -->
<!-- ARCHIVO: reportes-academico.html -->
<!-- DESCRIPCIN: Dashboard de reportes y an谩lisis acad茅mico -->
<!-- FUNCIONALIDAD: 
    - Visualizaci贸n de rendimiento por materia
    - Listado de investigadores SNI activos
    - M茅tricas de evaluaci贸n docente
    - Herramientas de exportaci贸n de datos
    - Filtrado por periodo y departamento
-->
<!-- NOTAS:
    - Layout completo con navbar, sidebar y footer
    - Header con t铆tulo y botones de exportaci贸n (CSV/PDF)
    - Filtros por periodo acad茅mico y departamento
    - Secci贸n de rendimiento por materia con promedios y tasas
    - Grid inferior con investigadores SNI y evaluaci贸n docente
    - Progress bars visuales para calificaciones de evaluaci贸n
    - Colores sem谩nticos: 茅xito para aprobados, destructivo para reprobados
    - Iconos representativos mediante emojis gen茅ricos <----- **CAMBIAR POR ICONOS DE MEJOR ESTILO (TODOS LOS ARCHIVOS)**
    - Dise帽o responsive con grid 2-columnas en desktop
    - TODO: Implementar funcionalidad real de exportaci贸n
    - TODO: Conectar filtros con actualizaci贸n din谩mica de datos
    - TODO: Agregar gr谩ficos visuales para m茅tricas
    - TODO: Implementar paginaci贸n para listas largas
-->
<!-- ==================================================== -->

<div class="flex flex-col min-h-screen">
    <app-navbar></app-navbar>
    <div class="flex flex-1">
        <app-sidebar></app-sidebar>
        <main class="flex-1 p-6 bg-background">
            <div class="max-w-7xl mx-auto" style="display: flex; flex-direction: column; gap: 1.5rem;">
                
                <!-- Header -->
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-foreground mb-2">Dashboard Acad茅mico</h1>
                        <p class="text-muted-foreground">
                            An谩lisis y reportes de desempe帽o acad茅mico
                        </p>
                    </div>
                    <div class="flex gap-2">
                        <button class="border border-border py-2 px-4 rounded flex items-center gap-2">
                            <span></span>
                            Exportar CSV
                        </button>
                        <button class="border border-border py-2 px-4 rounded flex items-center gap-2">
                            <span></span>
                            Exportar PDF
                        </button>
                    </div>
                </div>

                <!-- Filters -->
                <div class="flex gap-4">
                    <select style="width: 12rem; border: 1px solid hsl(var(--border)); border-radius: var(--radius); padding: 0.5rem;">
                        <option value="2024-1">Ene-Jun 2024</option>
                        <option value="2023-2">Ago-Dic 2023</option>
                        <option value="2023-1">Ene-Jun 2023</option>
                    </select>

                    <select style="width: 12rem; border: 1px solid hsl(var(--border)); border-radius: var(--radius); padding: 0.5rem;">
                        <option value="todos">Todos</option>
                        <option value="matematicas">Matem谩ticas</option>
                        <option value="fisica">F铆sica</option>
                        <option value="quimica">Qu铆mica</option>
                    </select>
                </div>

                <!-- Rendimiento por Materia -->
                <div class="bg-card rounded-lg shadow-sm">
                    <div class="p-6 border-b border-border">
                        <h3 class="text-lg font-semibold flex items-center gap-2">
                            <span></span>
                            Rendimiento por Materia
                        </h3>
                    </div>
                    <div class="p-6">
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <div *ngFor="let reporte of reportesPorMateria" class="p-4 border border-border rounded-lg">
                                <div class="flex items-center justify-between mb-3">
                                    <h3 class="font-semibold text-lg">{{reporte.materia}}</h3>
                                    <div class="text-2xl font-bold" style="color: hsl(var(--primary));">
                                        {{reporte.promedio}}
                                    </div>
                                </div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;" class="text-sm">
                                    <div class="flex items-center justify-between p-2 rounded" style="background-color: hsl(var(--success), 0.1);">
                                        <span class="text-muted-foreground">Aprobados</span>
                                        <span class="font-bold" style="color: hsl(var(--success));">{{reporte.aprobados}}%</span>
                                    </div>
                                    <div class="flex items-center justify-between p-2 rounded" style="background-color: hsl(var(--destructive), 0.1);">
                                        <span class="text-muted-foreground">Reprobados</span>
                                        <span class="font-bold" style="color: hsl(var(--destructive));">{{reporte.reprobados}}%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grid inferior -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Investigadores SNI -->
                    <div class="bg-card rounded-lg shadow-sm">
                        <div class="p-6 border-b border-border">
                            <h3 class="text-lg font-semibold flex items-center gap-2">
                                <span></span>
                                Investigadores SNI
                            </h3>
                        </div>
                        <div class="p-6">
                            <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                                <div *ngFor="let docente of docentesSNI" class="flex items-center justify-between p-3 bg-muted rounded-lg">
                                    <div style="flex: 1;">
                                        <p class="font-medium">{{docente.nombre}}</p>
                                        <p class="text-sm text-muted-foreground">{{docente.nivel}}</p>
                                    </div>
                                    <div class="text-right">
                                        <p class="text-sm font-bold">{{docente.publicaciones}}</p>
                                        <p class="text-xs text-muted-foreground">Publicaciones</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Evaluaci贸n Docente -->
                    <div class="bg-card rounded-lg shadow-sm">
                        <div class="p-6 border-b border-border">
                            <h3 class="text-lg font-semibold">Evaluaci贸n Docente Promedio</h3>
                        </div>
                        <div class="p-6">
                            <div style="display: flex; flex-direction: column; gap: 1rem;">
                                <div *ngFor="let item of evaluacionDocente" class="flex items-center justify-between">
                                    <span class="text-sm font-medium">{{item.criterio}}</span>
                                    <div class="flex items-center gap-2">
                                        <div class="w-24 h-2 bg-muted rounded-full overflow-hidden">
                                            <div 
                                                class="h-full rounded-full"
                                                [style]="'width: ' + (item.calificacion / 10) * 100 + '%; background-color: hsl(var(--primary));'"
                                            ></div>
                                        </div>
                                        <span class="text-sm font-bold w-8">{{item.calificacion}}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <app-footer></app-footer>
</div>